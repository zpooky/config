[general]
# A folder where vdirsyncer can store some metadata about each pair.
status_path = "~/.vdirsyncer/status/"

[pair work]
a = "work_local"
b = "work_remote"
collections = ["from a", "from b"]
metadata = ["color", "displayname"]
#conflict_resolution = b wins


[storage work_local]
type = "filesystem"
path = "~/.calendars/work/"
fileext = ".ics"

[storage work_remote]
type = "caldav"
read_only = true
url.fetch = ["command", "~/dotfiles/lib/davmail-url.sh", "work", "email"]
username.fetch = ["command", "~/dotfiles/lib/keyring-helper.py", "work", "email"]
#password =	"ss" 
password.fetch = ["command", "~/dotfiles/lib/keyring-helper.py", "work", "password"]
#password.fetch = ["prompt", "Password for CalDAV"]




[pair google_calendar]
a = "google_calendar_remote"
b = "google_calendar_local"
collections = ["from a", "from b"]
#collections = ["me@gmail.com"]
#conflict_resolution = "b wins"

[storage google_calendar_remote]
type = "google_calendar"
client_id.fetch = ["command", "~/dotfiles/lib/keyring-helper.py", "personal", "username"]
client_secret.fetch = ["command", "~/dotfiles/lib/keyring-helper.py", "personal", "password"]
token_file = "~/.vdirsyncer/key.json"

[storage google_calendar_local]
type = "filesystem"
path =  "~/.calendars/personal/"
fileext = ".ics"
